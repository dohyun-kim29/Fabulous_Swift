# 옵셔널


### **옵셔널 타입**은 **nill** 을 사용할 수 있는 타입을 부르는 말이다.

1. nill

   - **값이 없다** 는 것을 나타내주는 특수한 값이다.

     

   - nill을 반환하려면 해당 타입이 옵셔널 타입으로 정의되어있어야 한다.

     

   - **정상적으로 값을 처리하지 못하는 상황이 발생하였을 때 nill을 반환**한다.

     

   - **자료형에는 nill을 대입할 수 없다.**

     

   - **옵셔널 타입으로 선언된 자료형에는 nill을 대입할 수 있다.**

     

   - **모든 기본 자료형은 옵셔널 타입이 될 수 있다.**

     

   - Swift 에서 옵셔널 타입이 가질 수 있는 값은 **nill이 아닌 값**과 **nill 값** 두 가지뿐이다.

     

   - **성공적으로 처리되면 옵셔널로 감싸진 결과값이 반환되고. 문제가 있으면 nill이 반환된다.** 

     

     

   - ### **옵셔널 타입은 반환하려는 값을 옵셔널로 감싼 형태이다.**

   - 옵셔널로 싸여있는 것을 **옵셔널 래핑** 이라고 하고, 이를 헤제하는 과정을 **옵셔널 언래핑**이라고 한다.

2. 옵셔널 타입 선언, 정의

- ### **자료형 뒤에 ? 를 붙인다.**

  `var 선언할 옵셔널 타입의 자료형 이름 : 자료형? = 옵셔널타입으로 선언할 데이터`2

  ```swift
  var opData : Int? = 123
  print(opData)
  
  ------result------
  
  Optional(123)
  ```

  

3. 옵셔널 값 처리

   - **옵셔널 언래핑을 해야지만 연산, 대입이 가능하다.**

     

   - 옵셔널 언래핑의 방법에는 **명시적 해제**와 **묵시적 해제**가 있다.

     

   - 명시적 해제법에는 **강제 해제**와 **비강제 해제**가 있다.

     

   - 묵시적 해제법에는 **컴파일러에 의한 자동 해제**와, **! 연산자를 사용한 자동 해제**법이있다.

     

   - ### **옵셔널 타입의 값 뒤에 !(강제 해제 연산자) 를 붙이면 강제 해제가 된다.**

     `옵셔널 타입으로 선언된 변수!`

     ```swift
     var opData : Int? = 123
     print(opData!)
     
     ------result------
     
     123
     ```

     

     

   - 하지만 **강제 해제 연산자를 사용하였을 때엔 nill 값일때도 강제 해제가 되어 오류가 발생**한다.

     

   - **옵셔널 바인딩**을 통해 안전하게 해제가 가능하다.

     

   - 옵셔널 바인딩은 **조건문 내에서 일반 상수에 옵셔널 값을 대입하는 방식**이다.

     ```swift
     var name : String? = "dohyun"
     if (name! != nil) {
          print(name!)
     }
     
     ------result------
     
     dohyun
     ```

     

   - 컴파일러에 의해 옵셔널이 자동으로 해제되는 경우가 있다.(**비교 연산을 처리할 때**)

     

   - ### **!연산자를 사용해 옵셔널 타입을 선언할 수 있는데 이 때 옵셔널의 묵시적 해제가 일어나 일반 변수처럼 다룰 수 있다.**

     (이 방법을 사용해보려 했는데 나와있는 자료가 없었다ㅠㅠ)

     

   - **이때 변수의 값이 nill이 될 가능성이 있다면 사용해서는 안된다.**

   
